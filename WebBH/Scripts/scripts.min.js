$(document).ready(function () {
    window.setInterval(function () {
        $("#cart_popup").fadeOut();
    }, 4000);
    var b = window.location.pathname, c = new RegExp(b == "/" ? window.location.origin + "/?$" : b.replace(/\/$/, ""));
    $("nav ul li a").each(function () {
        if (c.test(this.href.replace(/\/$/, "")) && $(this).attr("href") != "") {
            $(this).parent().addClass("current");
            $(this).closest(".parentMenu").addClass("current");
            $(".home").removeClass("current")
        }
    });
    $("#catelogy_post ul li a").each(function () {
        if (c.test(this.href.replace(/\/$/, "")) && $(this).attr("href") != "") {
            $(this).parent().addClass("current");
            $(this).closest(".subitem").css({display: "block"});
            $(this).closest(".item").addClass("active");
            $(this).closest(".li_subitem").addClass("active");
            $(this).removeClass("color_dark").addClass("scheme_color")
        }
    });
    $("#catelogy_product ul li a").each(function () {
        if (c.test(this.href.replace(/\/$/, "")) && $(this).attr("href") != "") {
            $(this).parent().addClass("current");
            $(this).closest(".subitem").css({display: "block"});
            $(this).closest(".item").addClass("active");
            $(this).closest(".li_subitem").addClass("active");
            $(this).removeClass("color_dark").addClass("scheme_color")
        }
    });
    $(".categories_list li a:not(.subitem_a)").hover(function () {
        if ($(this).parent().children("ul").length) {
            var d = $(this).parent().attr("id");
            $(".subitem").css({display: "none"});
            $(".categories_list li").removeClass("active");
            $("#" + d).addClass("active");
            $("#subitem-" + d).css({display: "block"})
        }
    });
    $(".categories_list li").hover(function () {
        $(this).children("ul").stop(true, true).delay(200).fadeIn(300)
    }, function () {
        $(this).children("ul").stop(true, true).fadeOut(300)
    });
    if ($(window).width() < 680) {
        $("#sidebar-l").css("display", "none");
        $(".menu_wrap").remove();
        $("#banner_l").remove();
        $("#banner_r").remove();
        $(".button_type_12").css({padding: "5px 15px"});
        $("#service").remove();
        $("body").css("backgroundColor", "#fff");
        var a = '<div class="searchbox" id="searchBox"><form id="frmsearch" action="timkiem.html" method="get"><input type="submit"  id="btnSearch" value="Tìm"><div class="inputwrapper"><input name="s" placeholder="Từ khóa cần tìm" type="text" id="txtSearch"></div></form></div>';
        $("#mobile-header").after(a)
    } else {
        $(".menu").remove()
    }
    $("img:not(.tr_all_long_hover, .logo-site)").each(function () {
        if (!$(this).attr("old_width")) {
            if ($(this).width() > $(window).width() - 40) {
                $(this).attr("old_width", $(this).width());
                $(this).parent().css({"text-align": "center"})
            } else {
                var f = $(this).parent().width();
                if ($(this).width() >= f) {
                    $(this).css({"max-width": "100%"});
                    $(this).parent().css({"text-align": "center"})
                }
            }
        }
        if ($(this).attr("old_width")) {
            var d = $(this).width();
            var g = $(this).height();
            var e = $(window).width() - 70;
            $(this).width(e).height(e * g / d)
        }
        $("img.not_mobile").css("width", "100%");
        $("img.not_mobile").css("height", "auto")
    });
    $("embed").each(function () {
        if (!$(this).attr("old_width")) {
            if ($(this).width() > $(window).width() - 40) {
                $(this).attr("old_width", $(this).width())
            }
        }
        if ($(this).attr("old_width")) {
            var d = $(this).width();
            var f = $(this).height();
            var e = $(window).width() - 40;
            $(this).width(e).height(e * f / d)
        }
    });
    $("object").each(function () {
        if (!$(this).attr("old_width")) {
            if ($(this).width() > $(window).width() - 40) {
                $(this).attr("old_width", $(this).width())
            }
        }
        if ($(this).attr("old_width")) {
            var d = $(this).width();
            var f = $(this).height();
            var e = $(window).width() - 40;
            $(this).width(e).height(e * f / d)
        }
    });
    $("iframe").each(function () {
        if (!$(this).attr("old_width")) {
            if ($(this).width() > $(window).width() - 40) {
                $(this).attr("old_width", $(this).width())
            }
        }
        if ($(this).attr("old_width")) {
            var d = $(this).width();
            var f = $(this).height();
            var e = $(window).width() - 40;
            $(this).width(e).height(e * f / d)
        }
    });
    $("table").each(function () {
        if (!$(this).attr("old_width")) {
            if ($(this).width() > $(window).width() - 40) {
                $(this).attr("old_width", $(this).width())
            }
        }
        if ($(this).attr("old_width")) {
            $(this).width("100%")
        }
    });
    $("form#form_customize").on("submit", function (f) {
        f.preventDefault();
        $(".submit_form_customize").text("Vui lòng chờ...");
        var d = decodeURI(($(this).serialize()));
        var g = $("#form_customize").attr("data-val");
        var e = $("#urlthank").val();
        console.log(g);
        $.post("home/form/form_contact_customize", {id_store: g, data_form: d}, function (h) {
            if (h == 1) {
                $(".submit_form_customize").text("Đăng ký");
                if (e != null && e != "") {
                    window.location.href = e
                } else {
                    $("#form_customize").html("Cảm ơn bạn đã để lại thông tin.")
                }
            } else {
                $("#form_customize").html('<span style="color:red">Lỗi không thể gửi đi thông tin của bạn.</span>')
            }
        })
    });
    $("form#form_customize_group").on("submit", function (g) {
        g.preventDefault();
        $(".submit_form_group").text("Vui lòng chờ...");
        var d = decodeURI(($(this).serialize()));
        var i = $("#form_customize_group").attr("data-val");
        var e = $("#urlthank").val();
        var f = $("#group_id").val();
        var h = $("#Phone").val();
        console.log(i);
        $.post("home/form/form_contact_customize", {id_store: i, group_id: f, data_form: d, Phone: h}, function (j) {
            if (j == 1) {
                $(".submit_form_group").text("Đăng ký");
                if (e != null && e != "") {
                    window.location.href = e
                } else {
                    $("#form_customize_group").html("Cảm ơn bạn đã để lại thông tin.")
                }
            } else {
                $("#form_customize_group").html('<span style="color:red">Lỗi không thể gửi đi thông tin của bạn.</span>')
            }
        })
    });
    if ($("figure").hasClass("counters") == true) {
        $.get("/firebase/firebase.php?id_store=" + id_store + "&action=get", {id: 1,}, function (h) {
            if (h != "" && h != null) {
                var g = jQuery.parseJSON(h);
                var i = new Date();
                var e = i.getMonth() + 1;
                var f = i.getDate() + "-" + e + "-" + i.getFullYear();
                $(".counters .visit_total span").text(g.total);
                $(".counters .visit_today span").text(g.today)
            }
        })
    }
});
function removeItem(a) {
    $.post("gio-hang.html", {removeItem: a}, function (b) {
        if (b == 1) {
            window.location.href = "gio-hang.html"
        } else {
            alert("Không thể xóa sản phẩm này !")
        }
    })
}
function addItemcart() {
    var g = parseInt($("#idproduct").val());
    var h = parseInt($("#qty").val());
    var d = $(window).width();
    var c = $("#product_name").val();
    var f = $("#product_price").text();
    var b = $("#zoom_image").attr("src");
    var e, a = "";
    if ($(".description_product").children().hasClass("size_product")) {
        e = ($("#size").val())
    }
    if ($(".description_product").children().hasClass("color_product")) {
        a = ($("#color").val())
    }
    $.post("gio-hang.html", {addcartajax: "cart", idproduct: g, qty: h, size: e, color: a}, function (j) {
        if (j == 1) {
            if (d > 400) {
                $("#cart_popup").css("display", "block")
            } else {
                $("#cart_popup_mobile").css("display", "block")
            }
            var i = '<li><div class="clearfix"><img style="width: 40px;height: 40px;" class="f_left m_right_10" src="' + b + '" alt=""><div class="f_left product_description"><a href="#" class="color_dark m_bottom_5 d_block">' + c + '</a></div><div class="f_left f_size_medium"><div class="clearfix">1 x <b class="color_dark">' + f + "</b></div></div></div></li>";
            $("#products_list").append(i);
            $(".count").text(parseInt($(".count").text()) + 1)
        } else {
            alert("Không thể thêm sản phẩm này vào giỏ hàng.")
        }
    })
}
$("body").delegate(".add_to_cart", "click", function (b) {
    var g = $(this).attr("data-id");
    var i = 1;
    var h = $(window).width();
    var c = $(this).attr("data-name");
    var f = $(this).attr("data-price");
    var d = $(this).attr("data-img");
    var e = $(this);
    var a = e.text();
    e.html("Loading....").prop("disabled", true);
    $.post("gio-hang/add_cart_ajax.html", {
        addcartajax: "cart",
        idproduct: g,
        qty: i,
        id_store: id_store
    }, function (k) {
        e.html(a).prop("disabled", false);
        if (k == 1) {
            if (h > 400) {
                $("#cart_popup").css("display", "block")
            } else {
                $("#cart_popup_mobile").css("display", "block")
            }
            var j = '<li><div class="clearfix"><img style="width: 40px;height: 40px;" class="f_left m_right_10" src="' + d + '" alt=""><div class="f_left product_description"><a href="#" class="color_dark m_bottom_5 d_block">' + c + '</a></div><div class="f_left f_size_medium"><div class="clearfix">1 x <b class="color_dark">' + f + "</b></div></div></div></li>";
            $("#products_list").append(j);
            $(".count").text(parseInt($(".count").text()) + 1)
        } else {
            alert("Không thể thêm sản phẩm này vào giỏ hàng.")
        }
    })
});
function isEmail(c) {
    if (c == "") {
        return true
    }
    if (c.indexOf(" ") > 0) {
        return false
    }
    if (c.indexOf("@") == -1) {
        return false
    }
    var b = 1;
    var e = c.length;
    if (c.indexOf(".") == -1) {
        return false
    }
    if (c.indexOf("..") != -1) {
        return false
    }
    if (c.indexOf("@") != c.lastIndexOf("@")) {
        return false
    }
    if (c.lastIndexOf(".") == c.length - 1) {
        return false
    }
    var d = "abcdefghikjlmnopqrstuvwxyz-@._0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    for (var a = 0; a < c.length; a++) {
        if (d.indexOf(c.charAt(a)) == -1) {
            return false
        }
    }
    return true
}
function isPhone(a) {
    var b = a.replace(/[^\d]/g, "");
    if (b.length > 9 && b.length < 12) {
        return true
    }
    return false
}
function check_form_order() {
    if (!isEmail($("#c_email").val())) {
        alert("Địa chỉ Email không hợp lệ");
        $("#c_email").focus();
        return false
    }
    if (!isPhone($("#c_phone").val())) {
        alert("Số điện thoại không hợp lệ");
        $("#c_phone").focus();
        return false
    }
    return true
}
(function () {
    var a = 0;
    $(window).scroll(function () {
        var b = $(this).scrollTop();
        if (b > a) {
        } else {
            if ($("body").scrollTop() >= 10) {
            } else {
            }
        }
        a = b
    })
}());
(function (a) {
    var b = a.Deferred();
    a(window).bind("load", function () {
        b.resolve()
    });
    a(function () {
        a.fx.speeds._default = 500;
        a.fn.css3Animate = function (e) {
            return a(this).on("click", function (f) {
                var g = e;
                a(this).toggleClass("active");
                f.preventDefault();
                if (g.hasClass("opened")) {
                    g.removeClass("opened").addClass("closed");
                    setTimeout(function () {
                        g.removeClass("closed")
                    }, 500)
                } else {
                    g.addClass("opened")
                }
            })
        };
        a("#lang_button").css3Animate(a("#lang_button").next(".dropdown_list"));
        a("#currency_button").css3Animate(a("#currency_button").next(".dropdown_list"));
        a.fn.waypointInit = function (g, h, f, e) {
            return a(this).waypoint(function (j) {
                var i = a(this);
                if (j === "down") {
                    if (f) {
                        setTimeout(function () {
                            i.addClass(g)
                        }, f)
                    } else {
                        i.addClass(g)
                    }
                } else {
                    if (e == true) {
                        i.removeClass(g)
                    }
                }
            }, {offset: h})
        };
        a.fn.waypointSynchronise = function (e) {
            var f = a(this);

            function g(i, h) {
                i.eq(h).addClass(e.classN)
            }

            f.closest(e.container).waypoint(function (h) {
                f.each(function (j) {
                    if (h === "down") {
                        if (e.globalDelay != undefined) {
                            setTimeout(function () {
                                setTimeout(function () {
                                    g(f, j)
                                }, j * e.delay)
                            }, e.globalDelay)
                        } else {
                            setTimeout(function () {
                                g(f, j)
                            }, j * e.delay)
                        }
                    } else {
                        if (e.inv) {
                            setTimeout(function () {
                                f.eq(j).removeClass(e.classN)
                            }, j * e.delay)
                        }
                    }
                })
            }, {offset: e.offset});
            return f
        };
        (function () {
            b.done(function () {
                a(".products_container:not(.a_type_2) .photoframe.animate_ftb").waypointSynchronise({
                    container: ".products_container",
                    delay: 200,
                    offset: 700,
                    classN: "animate_vertical_finished"
                });
                a(".products_container.a_type_2 .photoframe.animate_ftb").waypointSynchronise({
                    container: ".products_container",
                    delay: 200,
                    offset: 700,
                    classN: "animate_vertical_finished"
                });
                a(".wfilter_carousel .photoframe.animate_ftb").waypointSynchronise({
                    container: ".wfilter_carousel",
                    delay: 200,
                    offset: 700,
                    classN: "animate_vertical_finished"
                });
                a(".bestsellers_carousel .photoframe.animate_ftb").waypointSynchronise({
                    container: ".bestsellers_carousel",
                    delay: 200,
                    offset: 700,
                    globalDelay: 400,
                    classN: "animate_vertical_finished"
                });
                a('.banner_type_2[class*="animate_ft"]').waypointSynchronise({
                    container: ".row",
                    delay: 200,
                    offset: 800,
                    classN: "animate_vertical_finished"
                });
                a(".animate_half_tc").waypointSynchronise({
                    container: ".row",
                    delay: 0,
                    offset: 830,
                    classN: "animate_horizontal_finished"
                });
                a(".heading2").waypointInit("animate_sj_finished animate_fade_finished", "800px");
                a(".nav_buttons_wrap.animate_fade").waypointInit("animate_sj_finished animate_fade_finished", "800px");
                a(".product_brands a.animate_fade").waypointSynchronise({
                    container: ".product_brands",
                    delay: 200,
                    offset: 830,
                    classN: "animate_sj_finished animate_fade_finished"
                });
                a(".blog_carousel a.photoframe").waypointSynchronise({
                    container: ".blog_animate.animate_ftr",
                    delay: 0,
                    offset: 830,
                    classN: "animate_vertical_finished"
                });
                a(".blog_carousel .mini_post_content > .animate_ftr").waypointSynchronise({
                    container: ".blog_animate.animate_ftr",
                    delay: 200,
                    offset: 830,
                    classN: "animate_horizontal_finished"
                });
                a(".blog_animate.animate_ftr").waypointInit("animate_horizontal_finished", "800px");
                a(".ti_animate.animate_ftr").waypointInit("animate_horizontal_finished", "800px", 1000);
                a(".testiomials_carousel .animate_ftr:first").waypointInit("animate_horizontal_finished", "851px", 1200);
                a(".testiomials_carousel .animate_ftr:nth-child(2)").waypointInit("animate_horizontal_finished", "973px", 1400);
                a(".testiomials_carousel .animate_ftr:nth-child(3)").waypointInit("animate_horizontal_finished", "987px", 1600);
                a(".heading1.animate_ftr").waypointInit("animate_horizontal_finished", "1000px");
                a(".isotope_menu > li.animate_ftr").waypointSynchronise({
                    container: ".isotope_menu",
                    delay: 200,
                    offset: 1000,
                    classN: "animate_horizontal_finished"
                });
                a(".flexslider.animate_ftr").waypointInit("animate_horizontal_finished", "1000px");
                setTimeout(function () {
                    a(".s_banners .d_block.animate_ftr").waypointSynchronise({
                        container: ".s_banners",
                        delay: 300,
                        offset: 830,
                        classN: "animate_horizontal_finished"
                    })
                }, 200);
                a(".widget.animate_ftr").waypointInit("animate_horizontal_finished", "800px", 200);
                a(".heading5").waypointInit("animate_horizontal_finished", "800px");
                a(".banner.animate_ftr").waypointSynchronise({
                    container: ".row",
                    delay: 200,
                    offset: 1000,
                    globalDelay: 800,
                    classN: "animate_horizontal_finished"
                });
                a(".nc_carousel .photoframe.animate_ftb").waypointSynchronise({
                    container: ".nc_carousel",
                    delay: 200,
                    offset: 700,
                    classN: "animate_vertical_finished"
                });
                a(".info_blocks_container .animate_ftr").waypointSynchronise({
                    container: ".info_blocks_container",
                    delay: 200,
                    offset: 700,
                    classN: "animate_vertical_finished"
                });
                a(".our_recent_work_carousel .animate_ftb").waypointSynchronise({
                    container: ".our_recent_work_carousel",
                    delay: 200,
                    offset: 700,
                    classN: "animate_vertical_finished"
                });
                a(".p_tables .animate_fade").waypointSynchronise({
                    container: ".p_tables",
                    delay: 200,
                    offset: 700,
                    classN: "animate_fade_finished"
                });
                a(".animate_corporate_container .animate_fade").waypointSynchronise({
                    container: ".animate_corporate_container",
                    delay: 200,
                    offset: 700,
                    classN: "animate_fade_finished"
                });
                a(window).scroll(function () {
                    var f = a("[role=banner] .h_bot_part");
                    var g = a(".menu_wrap");
                    if (a(window).scrollTop() > 500) {
                        g.addClass("sticky");
                        g.css("border-bottom", "1px solid #343738;")
                    } else {
                        g.removeClass("sticky")
                    }
                });
                a(window).scroll(function () {
                    if (a(window).scrollTop() > 100) {
                        a("#mobile-header").css("position", "fixed")
                    } else {
                        a("#mobile-header").css("position", "relative")
                    }
                });
                function e() {
                    if (a(".menu_wrap").hasClass("type_2")) {
                        a(".menu_wrap").css("width", a(".menu_wrap").parent().width())
                    }
                }

                e();
                a(window).on("resize", e)
            })
        })();
        (function () {
            if (a(".jackbox[data-group]").length) {
                jQuery(".jackbox[data-group]").jackBox("init", {
                    showInfoByDefault: false,
                    preloadGraphics: true,
                    fullscreenScalesContent: true,
                    autoPlayVideo: true,
                    flashVideoFirst: false,
                    defaultVideoWidth: 960,
                    defaultVideoHeight: 540,
                    baseName: ".jackbox",
                    className: ".jackbox",
                    useThumbs: true,
                    thumbsStartHidden: false,
                    thumbnailWidth: 75,
                    thumbnailHeight: 50,
                    useThumbTooltips: true,
                    showPageScrollbar: false,
                    useKeyboardControls: true
                })
            }
        })();
        a('[role="banner"]').on("click", ".close_product", function () {
            a(this).closest("li").animate({opacity: "0"}, function () {
                a(this).slideUp(500)
            })
        });
        a("#shopping_button").on("mouseenter", function () {
            a(this).css("z-index", "300")
        }).on("mouseleave", function () {
            a(this).css("z-index", "189")
        });
        (function () {
            a('[role="banner"]').on("click", ".search_button", function () {
                a(".searchform_wrap").addClass("opened");
                a("#shopping_button").hide()
            });
            a('[role="banner"]').on("click", ".close_search_form", function () {
                a(".searchform_wrap").removeClass("opened").addClass("closed");
                a("#shopping_button").show();
                setTimeout(function () {
                    a(".searchform_wrap").removeClass("closed")
                }, 400)
            })
        })();
        (function () {
            if (a("html").hasClass("ie9")) {
                a("input[placeholder]").each(function () {
                    a(this).val(a(this).attr("placeholder"));
                    var e = a(this).val();
                    a(this).on("focus", function () {
                        if (a(this).val() === e) {
                            a(this).val("")
                        }
                    }).on("blur", function () {
                        if (a(this).val() == "") {
                            a(this).val(e)
                        }
                    })
                })
            }
        })();
        if (a(".r_slider").length) {
            var d = a(".r_slider").revolution({
                delay: 5000,
                startwidth: 1140,
                startheight: 500,
                autoHeight: "off",
                fullScreenAlignForce: "off",
                onHoverStop: "on",
                thumbWidth: 100,
                thumbHeight: 50,
                thumbAmount: 3,
                hideThumbsOnMobile: "off",
                hideBulletsOnMobile: "off",
                hideArrowsOnMobile: "off",
                hideThumbsUnderResoluition: 0,
                hideTimerBar: "on",
                hideThumbs: 0,
                navigationType: "bullet",
                navigationArrows: "solo",
                navigationStyle: "round",
                navigationHAlign: "center",
                navigationVAlign: "bottom",
                navigationHOffset: 0,
                navigationVOffset: 15,
                soloArrowLeftHalign: "left",
                soloArrowLeftValign: "center",
                soloArrowLeftHOffset: 40,
                soloArrowLeftVOffset: 0,
                soloArrowRightHalign: "right",
                soloArrowRightValign: "center",
                soloArrowRightHOffset: 40,
                soloArrowRightVOffset: 0,
                touchenabled: "on",
                stopAtSlide: -1,
                stopAfterLoops: -1,
                hideCaptionAtLimit: 0,
                hideAllCaptionAtLilmit: 0,
                hideSliderAtLimit: 0,
                dottedOverlay: "none",
                fullWidth: "off",
                forceFullWidth: "off",
                fullScreen: "off",
                fullScreenOffsetContainer: "#topheader-to-offset",
                shadow: 0
            });
            d.bind("revolution.slide.onloaded", function (h, g) {
                var f = a(".revolution_slider");
                f.find(".tp-leftarrow").append('<i class="fa fa-angle-left"></i>');
                f.find(".tp-rightarrow").append('<i class="fa fa-angle-right"></i>');
                (function () {
                    var l = a(".r_slider [data-custom-thumb]"), e = l.length, j = a(".tp-bullets .bullet");
                    for (var k = 0; k < e; k++) {
                        j.eq(k).append('<div class="custom_thumb tr_all_hover"><img src="' + l.eq(k).data("custom-thumb") + '" alt=""></div>')
                    }
                })();
                a(".tp-bullets .bullet").each(function () {
                    var e = a(this);
                    e.on("mouseenter mouseleave", function () {
                        e.children(".custom_thumb").toggleClass("active")
                    })
                })
            })
        }
        (function () {
            var m = a(".wfilter_carousel"), h = a(".wfilter_prev"), k = a(".wfilter_next"), g = a("[data-carousel-filter]"), e = [], n = m.find(".photoframe"), l = n.length;
            if (m.length) {
                var f = m.owlCarousel({
                    itemsCustom: [[1199, 4], [992, 4], [768, 3], [590, 2], [300, 1]],
                    autoPlay: false,
                    slideSpeed: 1000,
                    autoHeight: true
                });
                h.on("click", function () {
                    f.trigger("owl.prev")
                });
                k.on("click", function () {
                    f.trigger("owl.next")
                });
                for (var j = 0; j < l; j++) {
                    e.push(n.eq(j)[0].outerHTML)
                }
                g.on("click", "li", function () {
                    var i = a(this), o = i.children("[data-filter]").data("filter");
                    m.addClass("changed").find(".owl-wrapper").animate({opacity: 0}, function () {
                        var p = a(this);
                        m.children().remove();
                        if (o == "*") {
                            a.each(e, function (r, q) {
                                m.append(q)
                            })
                        } else {
                            a.each(e, function (r, q) {
                                if (q.indexOf(o) !== -1) {
                                    m.append(q)
                                }
                            })
                        }
                        m.data("owlCarousel").destroy();
                        m.owlCarousel({
                            itemsCustom: [[1199, 4], [992, 4], [768, 3], [590, 2], [300, 1]],
                            autoPlay: false,
                            slideSpeed: 1000,
                            autoHeight: true,
                            afterInit: function () {
                                m.addClass("no_children_animate")
                            }
                        });
                        a(window).trigger("resize")
                    });
                    i.closest("li").addClass("active").siblings().removeClass("active")
                })
            }
        })();
        (function () {
            var e = a(".bestsellers_carousel");
            if (e.length) {
                var f = e.owlCarousel({
                    itemsCustom: [[1199, 4], [992, 4], [768, 3], [590, 2], [300, 1]],
                    autoPlay: true,
                    slideSpeed: 1000,
                    autoHeight: true
                });
                a(".bestsellers_prev").on("click", function () {
                    f.trigger("owl.prev")
                });
                a(".bestsellers_next").on("click", function () {
                    f.trigger("owl.next")
                })
            }
        })();
        (function () {
            var e = a(".our_recent_work_carousel");
            if (e.length) {
                var f = e.owlCarousel({
                    itemsCustom: [[1199, 3], [992, 3], [768, 3], [421, 2], [10, 1]],
                    autoPlay: false,
                    slideSpeed: 1000,
                    autoHeight: true
                });
                a(".orw_prev").on("click", function () {
                    f.trigger("owl.prev")
                });
                a(".orw_next").on("click", function () {
                    f.trigger("owl.next")
                })
            }
        })();
        (function () {
            var f = a(".nc_carousel");
            if (f.length) {
                var e = f.owlCarousel({
                    itemsCustom: [[1199, 3], [992, 3], [768, 3], [575, 2], [300, 1]],
                    autoPlay: true,
                    slideSpeed: 1000,
                    autoHeight: true
                });
                a(".nc_prev").on("click", function () {
                    e.trigger("owl.prev")
                });
                a(".nc_next").on("click", function () {
                    e.trigger("owl.next")
                })
            }
        })();
        (function () {
            var e = a(".camera_wrap");
            if (e.length) {
                e.camera({
                    height: "41%",
                    navigation: true,
                    pagination: true,
                    playPause: false,
                    thumbnails: false,
                    time: 4000,
                    transPeriod: 1000,
                    navigationHover: false,
                    onLoaded: function () {
                        var j = a(".camera_wrap .camera_src > [data-src]"), f = j.length, g = a(".camera_wrap .camera_pag_ul > li");
                        if (g.find(".custom_thumb").length) {
                            return
                        }
                        for (var h = 0; h < f; h++) {
                            g.eq(h).append('<div class="custom_thumb tr_all_hover"><img src="' + j.eq(h).data("custom-thumb") + '" alt=""></div>')
                        }
                        g.on("mouseenter mouseleave", function () {
                            a(this).children(".custom_thumb").toggleClass("active")
                        })
                    }
                });
                e.find(".camera_prev").append('<i class="fa fa-angle-left"></i>');
                e.find(".camera_next").append('<i class="fa fa-angle-right"></i>')
            }
        })();
        a("body").on("click", ".rating_list li", function () {
            a(this).siblings().removeClass("active");
            a(this).addClass("active").prevAll().addClass("active")
        });
        (function () {
            if (a(".product_brands").length) {
                var e = a(".product_brands").owlCarousel({
                    itemsCustom: a(".product_brands").hasClass("with_sidebar") ? [[1199, 4], [992, 4], [768, 3], [480, 3], [300, 2]] : [[1199, 6], [992, 5], [768, 4], [480, 3], [300, 2]],
                    autoPlay: true,
                    stopOnHover: true,
                    slideSpeed: 600,
                    addClassActive: true
                });
                a(".pb_prev").on("click", function () {
                    e.trigger("owl.prev")
                });
                a(".pb_next").on("click", function () {
                    e.trigger("owl.next")
                })
            }
        })();
        (function () {
            if (a(".blog_carousel").length) {
                var e = a(".blog_carousel").owlCarousel({
                    singleItem: true,
                    stopOnHover: true,
                    autoPlay: true,
                    slideSpeed: 1000,
                    autoHeight: true,
                })
            }
            a(".blog_prev").on("click", function () {
                e.trigger("owl.prev")
            });
            a(".blog_next").on("click", function () {
                e.trigger("owl.next")
            })
        })();
        (function () {
            if (a(".testiomials_carousel").length) {
                var e = a(".testiomials_carousel").owlCarousel({
                    singleItem: true,
                    autoPlay: false,
                    stopOnHover: true,
                    slideSpeed: 1000,
                    autoHeight: true
                });
                a(".ti_prev").on("click", function () {
                    e.trigger("owl.prev")
                });
                a(".ti_next").on("click", function () {
                    e.trigger("owl.next")
                })
            }
        })();
        (function () {
            if (a(".testiomials_carousel_2").length) {
                var e = a(".testiomials_carousel_2").owlCarousel({
                    singleItem: true,
                    autoPlay: false,
                    stopOnHover: true,
                    slideSpeed: 1000,
                    autoHeight: true
                });
                a(".ti_2_prev").on("click", function () {
                    e.trigger("owl.prev")
                });
                a(".ti_2_next").on("click", function () {
                    e.trigger("owl.next")
                })
            }
        })();
        (function () {
            a("#go_to_top").waypointInit("animate_horizontal_finished", "0px", 0, true);
            a("#go_to_top").on("click", function () {
                a("html,body").animate({scrollTop: 0}, 500)
            })
        })();
        (function () {
            a(".sw_button").on("click", function () {
                a(this).parent().toggleClass("opened").siblings().removeClass("opened")
            })
        })();
        (function () {
            a(".custom_select").each(function () {
                var h = a(this).children("ul"), f = a(this).find("select"), j = a(this).find(".select_title");
                j.css("min-width", j.outerWidth());
                if (a(this).find("[data-filter]").length) {
                    for (var g = 0, e = f.children("option").length; g < e; g++) {
                        h.append('<li data-filter="' + f.children("option").eq(g).data("filter") + '" class="tr_delay_hover">' + f.children("option").eq(g).text() + "</li>")
                    }
                } else {
                    for (var g = 0, e = f.children("option").length; g < e; g++) {
                        h.append('<li class="tr_delay_hover">' + f.children("option").eq(g).text() + "</li>")
                    }
                }
                f.hide();
                j.on("click", function () {
                    h.slideToggle(400);
                    a(this).toggleClass("active")
                });
                h.on("click", "li", function () {
                    var i = a(this).text();
                    j.text(i);
                    h.slideUp(400);
                    f.val(i);
                    j.toggleClass("active")
                })
            })
        })();
        (function () {
            var f;
            if (a("#price").length) {
                f = a("#price").slider({
                    orientation: "horizontal",
                    range: true,
                    values: [0, 237],
                    min: 0,
                    max: 250,
                    slide: function (g, h) {
                        a(this).next().find(".first_limit").val("$" + h.values[0]);
                        a(this).next().find(".last_limit").val("$" + h.values[1])
                    }
                })
            }
            var e = a(".select_color").on("click", function () {
                a(this).addClass("active").parent().siblings().children("button").removeClass("active")
            });
            a(".close_fieldset").on("click", function () {
                a(this).closest("fieldset").animate({opacity: "0"}, function () {
                    a(this).slideUp()
                })
            });
            a('button[type="reset"]:not(#styleswitcher button[type="reset"])').on("click", function () {
                e.eq(0).addClass("active").parent().siblings().children("button").removeClass("active");
                f.slider("option", "values", [0, 237])
            });
            a(".categories_list").on("click", "a", function (g) {
                if (a(this).parent().children("ul").length) {
                    a(this).parent().toggleClass("active").end().next().slideToggle()
                }
            });
            a(".categories_list > li > a").on("click", function (g) {
                if (a(this).parent().children("ul").length) {
                    a(this).toggleClass("scheme_color").toggleClass("color_dark")
                }
            })
        })();
        (function () {
            var e = a(".qv_carousel"), f = a(".qv_carousel_single");
            if (e.length) {
                var h = e.owlCarousel({items: 3, autoPlay: false, slideSpeed: 1000, autoHeight: true});
                a(".qv_btn_prev").on("click", function () {
                    h.trigger("owl.prev")
                });
                a(".qv_btn_next").on("click", function () {
                    h.trigger("owl.next")
                })
            }
            if (f.length) {
                var g = f.owlCarousel({
                    itemsCustom: [[1199, 3], [992, 3], [768, 3], [480, 3], [300, 3]],
                    autoPlay: false,
                    slideSpeed: 1000,
                    autoHeight: true
                });
                a(".qv_btn_single_prev").on("click", function () {
                    g.trigger("owl.prev")
                });
                a(".qv_btn_single_next").on("click", function () {
                    g.trigger("owl.next")
                })
            }
        })();
        (function () {
            a(".quantity").on("click", "button", function () {
                var f = a(this).data("direction"), e = a(this).parent().children('input[type="text"]'), g = e.val();
                if (f == "up") {
                    g++;
                    e.val(g)
                } else {
                    if (f == "down") {
                        if (g == 1) {
                            return
                        }
                        g--;
                        e.val(g)
                    }
                }
            })
        })();
        (function () {
            a(".popup").on("popup/position", function () {
                var g = a(this), f = setTimeout(function () {
                    var h = g.outerHeight() / -2, i = g.outerWidth() / -2;
                    g.css({"margin-left": i, "margin-top": h});
                    clearTimeout(f)
                }, 100)
            });
            var e = a(".popup > .close");
            if (a("[data-popup]").length) {
                a("body").on("click", "[data-popup]", function (h) {
                    var f = a(this).data("popup"), g = a(f).find(".popup");
                    g.trigger("popup/position");
                    a(f).fadeIn(function () {
                        var j = a(".custom_scrollbar");
                        if (j.length) {
                            var i = setInterval(function () {
                                if (j.is(":visible")) {
                                    j.customScrollbar({preventDefaultScroll: true});
                                    clearInterval(i)
                                }
                            }, 100)
                        }
                        a(f).on("click", function (k) {
                            if (a(k.target).hasClass("popup_wrap")) {
                                a(this).fadeOut()
                            }
                        })
                    });
                    h.preventDefault()
                })
            }
            e.on("click", function () {
                a(this).closest(".popup_wrap").fadeOut()
            })
        })();
        (function () {
            var e = a(".accordion:not(.toggle) .accordion_item"), h = e.find(".a_title"), f = a(".accordion.toggle .accordion_item"), g = f.find(".a_title");
            e.add(f).children(".a_title").not(".active").next().hide();
            h.on("click", function () {
                a(this).removeClass("bg_light_color_1 color_dark").addClass("active color_light").next().stop().slideDown().parent().siblings().children(".a_title").removeClass("active color_light").addClass("bg_light_color_1 color_dark").next().stop().slideUp()
            });
            g.on("click", function () {
                a(this).toggleClass("active color_light bg_light_color_1 color_dark").next().stop().slideToggle()
            })
        })();
        (function () {
            var e = a(".related_projects");
            if (e.length) {
                var f = e.owlCarousel({
                    autoPlay: true,
                    slideSpeed: 500,
                    autoHeight: true,
                    items: 4,
                    itemsDesktop: [1024, 4],
                    itemsDesktopSmall: [900, 4],
                    itemsTablet: [600, 2],
                    itemsMobile: [105, 2],
                });
                a(".rp_prev").on("click", function () {
                    f.trigger("owl.prev")
                });
                a(".rp_next").on("click", function () {
                    f.trigger("owl.next")
                })
            }
        })();
        (function () {
            var e = a(".block_select");
            e.each(function () {
                var f = a(this);
                if (f.find('input[type="radio"]').is(":checked")) {
                    f.addClass("selected")
                }
            });
            e.on("click", function () {
                a(this).addClass("selected").find('input[type="radio"]').prop("checked", true).end().siblings(".selected").removeClass("selected")
            })
        })();
        (function () {
            var f = a(".specials_carousel");
            if (f.length) {
                var e = f.owlCarousel({
                    itemsCustom: [[1199, 1], [992, 1], [768, 1], [480, 2], [300, 1]],
                    autoPlay: false,
                    slideSpeed: 500,
                    autoHeight: true,
                    transitionStyle: "backSlide"
                });
                a(".sc_prev").on("click", function () {
                    e.trigger("owl.prev")
                });
                a(".sc_next").on("click", function () {
                    e.trigger("owl.next")
                })
            }
        })();
        function c() {
            var e = a(".ellipsis").hide();
            e.each(function () {
                var f = a(this);
                f.css({width: f.parent().outerWidth(), "white-space": "normal"});
                f.show()
            })
        }

        c();
        a(window).on("resize", c);
        (function () {
            var e = a("#contactform");
            e.append('<div class="message_container d_none m_top_20"></div>');
            e.on("submit", function (h) {
                var f = a(this), i;
                var g = a.ajax({url: "bat/mail.php", type: "post", data: f.serialize()});
                g.then(function (j) {
                    if (j == "1") {
                        i = "Your message has been sent successfully!";
                        e.find('input:not([type="submit"]),textarea').val("");
                        a(".message_container").html('<div class="alert_box r_corners color_green success"><i class="fa fa-smile-o"></i><p>' + i + "</p></div>").delay(150).slideDown(300).delay(4000).slideUp(300, function () {
                            a(this).html("")
                        })
                    } else {
                        if (e.find("textarea").val().length < 20) {
                            i = "Message must contain at least 20 characters!"
                        }
                        if (e.find("input").val() == "") {
                            i = "All required fields must be filled!"
                        }
                        a(".message_container").html('<div class="alert_box r_corners error"><i class="fa fa-exclamation-triangle"></i><p>' + i + "</p></div>").delay(150).slideDown(300).delay(4000).slideUp(300, function () {
                            a(this).html("")
                        })
                    }
                }, function () {
                    a(".message_container").html('<div class="alert_box r_corners error"><i class="fa fa-exclamation-triangle"></i><p>Connection to server failed!</p></div>').delay(150).slideDown(300).delay(4000).slideUp(300, function () {
                        a(this).html("")
                    })
                });
                h.preventDefault()
            })
        })();
        (function () {
            var e = a("#newsletter");
            e.append('<div class="message_container_subscribe d_none m_top_20"></div>');
            var f = a(".message_container_subscribe"), g;
            e.on("submit", function (i) {
                var h = a(this);
                if (h.find('input[type="email"]').val() == "") {
                    g = "Please enter your e-mail!";
                    f.html('<div class="alert_box r_corners error"><i class="fa fa-exclamation-triangle"></i><p>' + g + "</p></div>").slideDown().delay(4000).slideUp(function () {
                        a(this).html("")
                    })
                } else {
                    h.find("span.error").hide();
                    a.ajax({
                        type: "POST", url: "bat/newsletter.php", data: h.serialize(), success: function (j) {
                            if (j == "1") {
                                g = "Your email has been sent successfully!";
                                f.html('<div class="alert_box r_corners color_green success"><i class="fa fa-smile-o"></i><p>' + g + "</p></div>").slideDown().delay(4000).slideUp(function () {
                                    a(this).html("")
                                }).prevAll('input[type="email"]').val("")
                            } else {
                                g = "Invalid email address!";
                                f.html('<div class="alert_box r_corners error"><i class="fa fa-exclamation-triangle"></i><p>' + g + "</p></div>").slideDown().delay(4000).slideUp(function () {
                                    a(this).html("")
                                })
                            }
                        }
                    })
                }
                i.preventDefault()
            })
        })();
        (function () {
            var e = a(".popup_wrap .qv_preview > img");
            a(".popup_wrap .qv_carousel .owl-item:first-child li").addClass("active");
            a(".popup_wrap .qv_carousel").on("click", "li:not(.active)", function () {
                a(this).addClass("active").parent().siblings().children("li").removeClass("active");
                var f = a(this).data("src");
                if (!(a("html").hasClass("ie9"))) {
                    e.addClass("hide");
                    setTimeout(function () {
                        e.attr("src", f).removeClass("hide")
                    }, 400)
                } else {
                    e.attr("src", f)
                }
                a('.popup_wrap [class*="qv_carousel"]').each(function () {
                    var g = a(this).closest(".qv_carousel_wrap").prev(".qv_preview").children("img");
                    a(this).on("click", "li", function () {
                        var h = a(this).data("src");
                        if (!(a("html").hasClass("ie9"))) {
                            g.addClass("hide");
                            setTimeout(function () {
                                g.attr("src", h).removeClass("hide")
                            }, 400)
                        } else {
                            g.attr("src", h)
                        }
                    })
                })
            })
        })();
        (function () {
            if (a(window).width() > 680) {
                a(".owl-item > a").hover(function () {
                    var g = (a(this).attr("data-image"));
                    var h = (a(this).attr("data-zoom-image"));
                    var f = a("#zoom_image").data("elevateZoom");
                    f.swaptheimage(g, h);
                    a(".owl-item").css({"border-width": "0px"});
                    a(this).parent().css({"border-color": "#ddd", "border-width": "1px", "border-style": "solid"})
                });
                if (a("[data-zoom-image]").length) {
                    var e = a('.qv_preview [class*="button_type_"]');
                    a("#zoom_image").elevateZoom({
                        gallery: "qv_carousel_single",
                        zoomWindowFadeIn: 500,
                        zoomWindowFadeOut: 500
                    });
                    e.on("click", function (g) {
                        var f = a("#zoom_image").data("elevateZoom");
                        a.fancybox(f.getGalleryList());
                        g.preventDefault()
                    })
                }
            }
        })();
        (function () {
            var e = a('[class*="first_letter"]');
            e.each(function () {
                var f = a(this), g = f.text().charAt(0);
                f.text(f.text().substr(1)).prepend('<span class="fl r_corners t_align_c f_left d_block">' + g + "</span>")
            })
        })()
    });
    a(window).load(function () {
        function c(e, f) {
            var k = e, h = f, j = [], d = h.length;
            h.removeClass("random");
            if (e === ".random") {
                for (var g = 0; g < d; g++) {
                    j.push(+(Math.random() * d).toFixed())
                }
                a.each(j, function (m, l) {
                    f.eq(Math.floor(Math.random() * l - 1)).addClass("random")
                })
            }
        }

        (function () {
            if (a(".portfolio_isotope_container").length) {
                var d = a(".portfolio_isotope_container");
                d.isotope({itemSelector: ".portfolio_item", layoutMode: "fitRows"});
                a("#filter_portfolio").on("click", "li", function () {
                    var g = a(this), f = g.data("filter");
                    d.isotope({filter: f})
                })
            }
            if (a(".portfolio_masonry_container").length) {
                var e = a(".portfolio_masonry_container");
                e.isotope({
                    itemSelector: ".portfolio_item",
                    layoutMode: "masonry",
                    masonry: {columnWidth: 10, gutter: 0}
                });
                a("#filter_portfolio").on("click", "li", function () {
                    var g = a(this), f = g.data("filter");
                    e.isotope({filter: f})
                })
            }
        })();
        (function () {
            var d = a(".flexslider:not(.simple_slide_show)");
            if (d.length) {
                d.flexslider({
                    animation: "slide",
                    autoPlay: true,
                    animationSpeed: 1000,
                    prevText: "<i class='fa fa-angle-left'></i>",
                    nextText: "<i class='fa fa-angle-right'></i>",
                    slideshow: true,
                    start: function () {
                        var h = a(".flexslider [data-custom-thumb]"), e = h.length, f = a(".flex-control-nav li");
                        for (var g = 0; g < e; g++) {
                            f.eq(g).append('<div class="custom_thumb tr_all_hover"><img src="' + h.eq(g).data("custom-thumb") + '" alt=""></div>')
                        }
                        a(".flex-control-nav li").each(function () {
                            var i = a(this);
                            i.on("mouseenter mouseleave", function () {
                                i.children(".custom_thumb").toggleClass("active")
                            })
                        });
                        f.find(".custom_thumb").on("click", function () {
                            return false
                        })
                    }
                })
            }
        })();
        (function () {
            var d = a(".simple_slide_show");

            function e() {
                var g = a(this), h = g.data("flexslider").currentSlide;
                g.find(".slides").children("li").eq(h + 1).children(".simple_s_caption").addClass("active").parent().siblings().children(".simple_s_caption").removeClass("active")
            }

            if (d.length) {
                d.each(function () {
                    var f = a(this);
                    f.flexslider({
                        animation: "slide",
                        animationSpeed: 1000,
                        prevText: "<i class='fa fa-angle-left'></i>",
                        nextText: "<i class='fa fa-angle-right'></i>",
                        slideshow: true,
                        controlNav: false,
                        start: function () {
                            e.call(f)
                        },
                        after: function () {
                            e.call(f)
                        }
                    })
                })
            }
        })()
    })
    // function makeSameHeight(element) {

    //     var highestBox = 0;
    //     $(element).each(function () {
    //         if ($(this).height() > highestBox) {
    //             highestBox = $(this).height();
    //         }
    //     });
    //     $(element).height(highestBox);

    // }
    // //Make figcaption same height
    // makeSameHeight(".product_item figcaption h5");
    // makeSameHeight(".product_item figcaption h5 a");
    // makeSameHeight(".photoframe");

})(jQuery);